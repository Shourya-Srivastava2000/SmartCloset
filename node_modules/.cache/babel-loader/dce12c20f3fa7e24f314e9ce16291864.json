{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOptionsFromQuery = exports.parseHits = exports.handleA11yAction = exports.getInnerKey = exports.getClassName = exports.checkSomePropChange = exports.checkPropChange = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.isEqual = isEqual;\nexports.debounce = debounce;\nexports.getQueryOptions = getQueryOptions;\nexports.buildQuery = buildQuery;\nexports.pushToAndClause = pushToAndClause;\nexports.checkValueChange = checkValueChange;\nexports.getAggsOrder = getAggsOrder;\nexports.formatDate = formatDate;\n\nvar _dateFormats = require('./dateFormats');\n\nvar _dateFormats2 = _interopRequireDefault(_dateFormats);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction isEqual(x, y) {\n  if (x === y) return true;\n  if (!(x instanceof Object) || !(y instanceof Object)) return false;\n  if (x.constructor !== y.constructor) return false;\n\n  for (var p in x) {\n    if (!x.hasOwnProperty(p)) continue;\n    if (!y.hasOwnProperty(p)) return false;\n    if (x[p] === y[p]) continue;\n    if (typeof x[p] !== 'object') return false;\n    if (!isEqual(x[p], y[p])) return false;\n  }\n\n  for (var _p in y) {\n    if (y.hasOwnProperty(_p) && !x.hasOwnProperty(_p)) return false;\n  }\n\n  return true;\n}\n\nfunction debounce(callback, wait) {\n  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n  var timeout = null;\n  var callbackArgs = null;\n\n  var later = function later() {\n    return callback.apply(context, callbackArgs);\n  };\n\n  return function debouncedFunction() {\n    callbackArgs = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nfunction getQueryOptions(props) {\n  var options = {};\n\n  if (props.size !== undefined) {\n    options.size = props.size;\n  }\n\n  if (props.includeFields || props.excludeFields) {\n    var source = {};\n\n    if (props.includeFields) {\n      source.includes = props.includeFields;\n    }\n\n    if (props.excludeFields) {\n      source.excludes = props.excludeFields;\n    }\n\n    options._source = source;\n  }\n\n  return options;\n}\n\nfunction getOperation(conjunction) {\n  if (conjunction === 'and') {\n    return 'must';\n  }\n\n  if (conjunction === 'or') {\n    return 'should';\n  }\n\n  return 'must_not';\n}\n\nfunction createBoolQuery(operation, query) {\n  var resultQuery = null;\n\n  if (Array.isArray(query) && query.length || !Array.isArray(query) && query) {\n    resultQuery = {\n      bool: _defineProperty({}, operation, query)\n    };\n  }\n\n  if (operation === 'should' && resultQuery) {\n    resultQuery = {\n      bool: _extends({}, resultQuery.bool, {\n        minimum_should_match: 1\n      })\n    };\n  }\n\n  return resultQuery;\n}\n\nfunction getQuery(react, queryList) {\n  var query = [];\n  Object.keys(react).forEach(function (conjunction) {\n    if (Array.isArray(react[conjunction])) {\n      var operation = getOperation(conjunction);\n      var queryArr = react[conjunction].map(function (comp) {\n        if (typeof comp !== 'string') {\n          return getQuery(comp, queryList);\n        } else if (comp in queryList) {\n          return queryList[comp];\n        }\n\n        return null;\n      }).filter(function (item) {\n        return !!item;\n      });\n      var boolQuery = createBoolQuery(operation, queryArr);\n\n      if (boolQuery) {\n        query = [].concat(_toConsumableArray(query), [boolQuery]);\n      }\n    } else if (typeof react[conjunction] === 'string') {\n      var _operation = getOperation(conjunction);\n\n      var _boolQuery = createBoolQuery(_operation, queryList[react[conjunction]]);\n\n      if (_boolQuery) {\n        query = [].concat(_toConsumableArray(query), [_boolQuery]);\n      }\n    } else if (typeof react[conjunction] === 'object' && react[conjunction] !== null) {\n      var _boolQuery2 = getQuery(react[conjunction], queryList);\n\n      if (_boolQuery2) {\n        query = [].concat(_toConsumableArray(query), [_boolQuery2]);\n      }\n    }\n  });\n\n  if (Array.isArray(query) && query.length) {\n    return {\n      bool: {\n        must: query\n      }\n    };\n  }\n\n  if (query && Object.keys(query).length) {\n    return query;\n  }\n\n  return null;\n}\n\nfunction getExternalQueryOptions(react, options, component) {\n  var queryOptions = {};\n  Object.keys(react).forEach(function (conjunction) {\n    if (Array.isArray(react[conjunction])) {\n      react[conjunction].forEach(function (comp) {\n        if (options[comp]) {\n          queryOptions = _extends({}, queryOptions, options[comp]);\n        }\n      });\n    } else if (typeof react[conjunction] === 'string') {\n      if (options[react[conjunction]]) {\n        queryOptions = _extends({}, queryOptions, options[react[conjunction]]);\n      }\n    } else if (typeof react[conjunction] === 'object' && react[conjunction] !== null && !Array.isArray(react[conjunction])) {\n      queryOptions = _extends({}, queryOptions, getExternalQueryOptions(react[conjunction], options));\n    }\n  });\n\n  if (options[component]) {\n    queryOptions = _extends({}, queryOptions, options[component]);\n  }\n\n  return queryOptions;\n}\n\nfunction buildQuery(component, dependencyTree, queryList, queryOptions) {\n  var queryObj = null;\n  var options = null;\n\n  if (component in dependencyTree) {\n    queryObj = getQuery(dependencyTree[component], queryList);\n    options = getExternalQueryOptions(dependencyTree[component], queryOptions, component);\n  }\n\n  return {\n    queryObj: queryObj,\n    options: options\n  };\n}\n\nfunction pushToAndClause(reactProp, component) {\n  var react = _extends({}, reactProp);\n\n  if (react.and) {\n    if (Array.isArray(react.and)) {\n      react.and = [].concat(_toConsumableArray(react.and), [component]);\n      return react;\n    } else if (typeof react.and === 'string') {\n      react.and = [react.and, component];\n      return react;\n    }\n\n    react.and = pushToAndClause(react.and, component);\n    return react;\n  }\n\n  return _extends({}, react, {\n    and: component\n  });\n}\n\nfunction checkValueChange(componentId, value, beforeValueChange, performUpdate) {\n  var selectedValue = value;\n\n  if (Array.isArray(value) && !value.length) {\n    selectedValue = null;\n  }\n\n  if (beforeValueChange) {\n    beforeValueChange(selectedValue).then(performUpdate).catch(function (e) {\n      console.warn(componentId + ' - beforeValueChange rejected the promise with ', e);\n    });\n  } else {\n    performUpdate();\n  }\n}\n\nfunction getAggsOrder(sortBy) {\n  if (sortBy === 'count') {\n    return {\n      _count: 'desc'\n    };\n  }\n\n  return {\n    _term: sortBy\n  };\n}\n\nvar checkPropChange = exports.checkPropChange = function checkPropChange(prevProp, nextProp, callback) {\n  if (!isEqual(prevProp, nextProp)) {\n    callback();\n    return true;\n  }\n\n  return false;\n};\n\nvar checkSomePropChange = exports.checkSomePropChange = function checkSomePropChange(prevProps, nextProps, propsList, callback) {\n  propsList.some(function (prop) {\n    return checkPropChange(prevProps[prop], nextProps[prop], callback);\n  });\n};\n\nvar getClassName = exports.getClassName = function getClassName(classMap, component) {\n  return classMap && classMap[component] || '';\n};\n\nvar getInnerKey = exports.getInnerKey = function getInnerKey(obj, key) {\n  return obj && obj[key] || {};\n};\n\nvar handleA11yAction = exports.handleA11yAction = function handleA11yAction(e, callback) {\n  if (e.key === 'Enter' || e.key === ' ') {\n    e.preventDefault();\n    callback();\n  }\n};\n\nvar highlightResults = function highlightResults(result) {\n  var data = _extends({}, result);\n\n  if (data.highlight) {\n    Object.keys(data.highlight).forEach(function (highlightItem) {\n      var highlightValue = data.highlight[highlightItem][0];\n      data._source = _extends({}, data._source, _defineProperty({}, highlightItem, highlightValue));\n    });\n  }\n\n  return data;\n};\n\nvar parseHits = exports.parseHits = function parseHits(hits) {\n  var results = null;\n\n  if (hits) {\n    results = [].concat(_toConsumableArray(hits)).map(function (item) {\n      var streamProps = {};\n\n      if (item._updated) {\n        streamProps._updated = item._updated;\n      } else if (item._deleted) {\n        streamProps._deleted = item._deleted;\n      }\n\n      var data = highlightResults(item);\n      return _extends({\n        _id: data._id,\n        _index: data._index,\n        _type: data._type,\n        _score: data._score,\n        highlight: data.highlight || {}\n      }, data._source, streamProps);\n    });\n  }\n\n  return results;\n};\n\nfunction formatDate(date, props) {\n  if (props.parseDate) {\n    return props.parseDate(date, props);\n  }\n\n  switch (props.queryFormat) {\n    case 'epoch_millis':\n      return date.getTime();\n\n    case 'epoch_seconds':\n      return Math.floor(date.getTime() / 1000);\n\n    default:\n      {\n        if (_dateFormats2.default[props.queryFormat]) {\n          return date.toString(_dateFormats2.default[props.queryFormat]);\n        }\n\n        return date.getTime();\n      }\n  }\n}\n\nvar getOptionsFromQuery = function getOptionsFromQuery() {\n  var customQuery = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (customQuery) {\n    var query = customQuery.query,\n        rest = _objectWithoutProperties(customQuery, ['query']);\n\n    return Object.keys(rest).length ? rest : null;\n  }\n\n  return null;\n};\n\nexports.getOptionsFromQuery = getOptionsFromQuery;","map":{"version":3,"sources":["C:/Users/porto/info340-code/pod/340/node_modules/@appbaseio/reactivecore/lib/utils/helper.js"],"names":["Object","defineProperty","exports","value","getOptionsFromQuery","parseHits","handleA11yAction","getInnerKey","getClassName","checkSomePropChange","checkPropChange","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","isEqual","debounce","getQueryOptions","buildQuery","pushToAndClause","checkValueChange","getAggsOrder","formatDate","_dateFormats","require","_dateFormats2","_interopRequireDefault","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_toConsumableArray","arr","Array","isArray","arr2","from","_defineProperty","enumerable","configurable","writable","x","y","constructor","p","_p","callback","wait","context","timeout","callbackArgs","later","apply","debouncedFunction","clearTimeout","setTimeout","props","options","size","includeFields","excludeFields","includes","excludes","_source","getOperation","conjunction","createBoolQuery","operation","query","resultQuery","bool","minimum_should_match","getQuery","react","queryList","forEach","queryArr","map","comp","filter","item","boolQuery","concat","_operation","_boolQuery","_boolQuery2","must","getExternalQueryOptions","component","queryOptions","dependencyTree","queryObj","reactProp","and","componentId","beforeValueChange","performUpdate","selectedValue","then","catch","e","console","warn","sortBy","_count","_term","prevProp","nextProp","prevProps","nextProps","propsList","some","prop","classMap","preventDefault","highlightResults","result","data","highlight","highlightItem","highlightValue","hits","results","streamProps","_updated","_deleted","_id","_index","_type","_score","date","parseDate","queryFormat","getTime","Math","floor","toString","customQuery","rest"],"mappings":"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","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:true});exports.getOptionsFromQuery=exports.parseHits=exports.handleA11yAction=exports.getInnerKey=exports.getClassName=exports.checkSomePropChange=exports.checkPropChange=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};exports.isEqual=isEqual;exports.debounce=debounce;exports.getQueryOptions=getQueryOptions;exports.buildQuery=buildQuery;exports.pushToAndClause=pushToAndClause;exports.checkValueChange=checkValueChange;exports.getAggsOrder=getAggsOrder;exports.formatDate=formatDate;var _dateFormats=require('./dateFormats');var _dateFormats2=_interopRequireDefault(_dateFormats);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function isEqual(x,y){if(x===y)return true;if(!(x instanceof Object)||!(y instanceof Object))return false;if(x.constructor!==y.constructor)return false;for(var p in x){if(!x.hasOwnProperty(p))continue;if(!y.hasOwnProperty(p))return false;if(x[p]===y[p])continue;if(typeof x[p]!=='object')return false;if(!isEqual(x[p],y[p]))return false;}for(var _p in y){if(y.hasOwnProperty(_p)&&!x.hasOwnProperty(_p))return false;}return true;}function debounce(callback,wait){var context=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this;var timeout=null;var callbackArgs=null;var later=function later(){return callback.apply(context,callbackArgs);};return function debouncedFunction(){callbackArgs=arguments;clearTimeout(timeout);timeout=setTimeout(later,wait);};}function getQueryOptions(props){var options={};if(props.size!==undefined){options.size=props.size;}if(props.includeFields||props.excludeFields){var source={};if(props.includeFields){source.includes=props.includeFields;}if(props.excludeFields){source.excludes=props.excludeFields;}options._source=source;}return options;}function getOperation(conjunction){if(conjunction==='and'){return'must';}if(conjunction==='or'){return'should';}return'must_not';}function createBoolQuery(operation,query){var resultQuery=null;if(Array.isArray(query)&&query.length||!Array.isArray(query)&&query){resultQuery={bool:_defineProperty({},operation,query)};}if(operation==='should'&&resultQuery){resultQuery={bool:_extends({},resultQuery.bool,{minimum_should_match:1})};}return resultQuery;}function getQuery(react,queryList){var query=[];Object.keys(react).forEach(function(conjunction){if(Array.isArray(react[conjunction])){var operation=getOperation(conjunction);var queryArr=react[conjunction].map(function(comp){if(typeof comp!=='string'){return getQuery(comp,queryList);}else if(comp in queryList){return queryList[comp];}return null;}).filter(function(item){return!!item;});var boolQuery=createBoolQuery(operation,queryArr);if(boolQuery){query=[].concat(_toConsumableArray(query),[boolQuery]);}}else if(typeof react[conjunction]==='string'){var _operation=getOperation(conjunction);var _boolQuery=createBoolQuery(_operation,queryList[react[conjunction]]);if(_boolQuery){query=[].concat(_toConsumableArray(query),[_boolQuery]);}}else if(typeof react[conjunction]==='object'&&react[conjunction]!==null){var _boolQuery2=getQuery(react[conjunction],queryList);if(_boolQuery2){query=[].concat(_toConsumableArray(query),[_boolQuery2]);}}});if(Array.isArray(query)&&query.length){return{bool:{must:query}};}if(query&&Object.keys(query).length){return query;}return null;}function getExternalQueryOptions(react,options,component){var queryOptions={};Object.keys(react).forEach(function(conjunction){if(Array.isArray(react[conjunction])){react[conjunction].forEach(function(comp){if(options[comp]){queryOptions=_extends({},queryOptions,options[comp]);}});}else if(typeof react[conjunction]==='string'){if(options[react[conjunction]]){queryOptions=_extends({},queryOptions,options[react[conjunction]]);}}else if(typeof react[conjunction]==='object'&&react[conjunction]!==null&&!Array.isArray(react[conjunction])){queryOptions=_extends({},queryOptions,getExternalQueryOptions(react[conjunction],options));}});if(options[component]){queryOptions=_extends({},queryOptions,options[component]);}return queryOptions;}function buildQuery(component,dependencyTree,queryList,queryOptions){var queryObj=null;var options=null;if(component in dependencyTree){queryObj=getQuery(dependencyTree[component],queryList);options=getExternalQueryOptions(dependencyTree[component],queryOptions,component);}return{queryObj:queryObj,options:options};}function pushToAndClause(reactProp,component){var react=_extends({},reactProp);if(react.and){if(Array.isArray(react.and)){react.and=[].concat(_toConsumableArray(react.and),[component]);return react;}else if(typeof react.and==='string'){react.and=[react.and,component];return react;}react.and=pushToAndClause(react.and,component);return react;}return _extends({},react,{and:component});}function checkValueChange(componentId,value,beforeValueChange,performUpdate){var selectedValue=value;if(Array.isArray(value)&&!value.length){selectedValue=null;}if(beforeValueChange){beforeValueChange(selectedValue).then(performUpdate).catch(function(e){console.warn(componentId+' - beforeValueChange rejected the promise with ',e);});}else{performUpdate();}}function getAggsOrder(sortBy){if(sortBy==='count'){return{_count:'desc'};}return{_term:sortBy};}var checkPropChange=exports.checkPropChange=function checkPropChange(prevProp,nextProp,callback){if(!isEqual(prevProp,nextProp)){callback();return true;}return false;};var checkSomePropChange=exports.checkSomePropChange=function checkSomePropChange(prevProps,nextProps,propsList,callback){propsList.some(function(prop){return checkPropChange(prevProps[prop],nextProps[prop],callback);});};var getClassName=exports.getClassName=function getClassName(classMap,component){return classMap&&classMap[component]||'';};var getInnerKey=exports.getInnerKey=function getInnerKey(obj,key){return obj&&obj[key]||{};};var handleA11yAction=exports.handleA11yAction=function handleA11yAction(e,callback){if(e.key==='Enter'||e.key===' '){e.preventDefault();callback();}};var highlightResults=function highlightResults(result){var data=_extends({},result);if(data.highlight){Object.keys(data.highlight).forEach(function(highlightItem){var highlightValue=data.highlight[highlightItem][0];data._source=_extends({},data._source,_defineProperty({},highlightItem,highlightValue));});}return data;};var parseHits=exports.parseHits=function parseHits(hits){var results=null;if(hits){results=[].concat(_toConsumableArray(hits)).map(function(item){var streamProps={};if(item._updated){streamProps._updated=item._updated;}else if(item._deleted){streamProps._deleted=item._deleted;}var data=highlightResults(item);return _extends({_id:data._id,_index:data._index,_type:data._type,_score:data._score,highlight:data.highlight||{}},data._source,streamProps);});}return results;};function formatDate(date,props){if(props.parseDate){return props.parseDate(date,props);}switch(props.queryFormat){case'epoch_millis':return date.getTime();case'epoch_seconds':return Math.floor(date.getTime()/1000);default:{if(_dateFormats2.default[props.queryFormat]){return date.toString(_dateFormats2.default[props.queryFormat]);}return date.getTime();}}}var getOptionsFromQuery=function getOptionsFromQuery(){var customQuery=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(customQuery){var query=customQuery.query,rest=_objectWithoutProperties(customQuery,['query']);return Object.keys(rest).length?rest:null;}return null;};exports.getOptionsFromQuery=getOptionsFromQuery;"]},"metadata":{},"sourceType":"script"}