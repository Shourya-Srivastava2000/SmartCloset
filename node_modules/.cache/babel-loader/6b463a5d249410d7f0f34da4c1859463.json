{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _Slider = require('rheostat/lib/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _HistogramContainer = require('./addons/HistogramContainer');\n\nvar _HistogramContainer2 = _interopRequireDefault(_HistogramContainer);\n\nvar _RangeLabel = require('./addons/RangeLabel');\n\nvar _RangeLabel2 = _interopRequireDefault(_RangeLabel);\n\nvar _SliderHandle = require('./addons/SliderHandle');\n\nvar _SliderHandle2 = _interopRequireDefault(_SliderHandle);\n\nvar _Slider3 = require('../../styles/Slider');\n\nvar _Slider4 = _interopRequireDefault(_Slider3);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Label = require('../../styles/Label');\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DynamicRangeSlider = function (_Component) {\n  _inherits(DynamicRangeSlider, _Component);\n\n  function DynamicRangeSlider(props) {\n    _classCallCheck(this, DynamicRangeSlider);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      currentValue: null,\n      range: null,\n      stats: []\n    };\n    _this.internalHistogramComponent = _this.props.componentId + '__histogram__internal';\n    _this.internalRangeComponent = _this.props.componentId + '__range__internal';\n    _this.internalMatchAllComponent = _this.props.componentId + '__match_all__internal';\n    _this.locked = false;\n    props.setQueryListener(props.componentId, props.onQueryChange, null);\n    return _this;\n  }\n\n  DynamicRangeSlider.prototype.componentWillMount = function componentWillMount() {\n    this.props.addComponent(this.props.componentId);\n    this.props.addComponent(this.internalHistogramComponent);\n    this.props.addComponent(this.internalRangeComponent); // get range before executing other queries\n\n    this.updateRangeQueryOptions(this.props);\n    this.setReact(this.props);\n  };\n\n  DynamicRangeSlider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var _this2 = this;\n\n    if (!(0, _helper.isEqual)(this.props.range, nextProps.range) && nextProps.range) {\n      this.updateQueryOptions(nextProps, nextProps.range); // floor and ceil to take edge cases into account\n\n      this.updateRange({\n        start: Math.floor(nextProps.range.start),\n        end: Math.ceil(nextProps.range.end)\n      }); // only listen to selectedValue initially, after the\n      // component has mounted and range is received\n\n      if (nextProps.selectedValue && !this.state.currentValue) {\n        this.handleChange(nextProps.selectedValue, nextProps);\n      } else if (nextProps.defaultSelected) {\n        var _nextProps$defaultSel = nextProps.defaultSelected(nextProps.range.start, nextProps.range.end),\n            start = _nextProps$defaultSel.start,\n            end = _nextProps$defaultSel.end;\n\n        this.handleChange([start, end], nextProps);\n      } else {\n        this.handleChange([Math.floor(nextProps.range.start), Math.ceil(nextProps.range.end)], nextProps);\n      }\n    } else if (nextProps.range && !(0, _helper.isEqual)(this.props.defaultSelected && this.props.defaultSelected(nextProps.range.start, nextProps.range.end), nextProps.defaultSelected && nextProps.defaultSelected(nextProps.range.start, nextProps.range.end))) {\n      var _nextProps$defaultSel2 = nextProps.defaultSelected(nextProps.range.start, nextProps.range.end),\n          _start = _nextProps$defaultSel2.start,\n          _end = _nextProps$defaultSel2.end;\n\n      this.handleChange([_start, _end], nextProps);\n    } else if (nextProps.range && nextProps.selectedValue === null) {\n      // when the filter is reset\n      this.handleChange([nextProps.range.start, nextProps.range.end], nextProps);\n    }\n\n    (0, _helper.checkPropChange)(this.props.react, nextProps.react, function () {\n      _this2.updateRangeQueryOptions(nextProps);\n\n      _this2.setReact(nextProps);\n    });\n    (0, _helper.checkPropChange)(this.props.dataField, nextProps.dataField, function () {\n      _this2.updateRangeQueryOptions(nextProps);\n    });\n    (0, _helper.checkSomePropChange)(this.props, nextProps, ['showHistogram', 'interval'], function () {\n      return _this2.updateQueryOptions(nextProps, nextProps.range || _this2.state.range);\n    });\n    (0, _helper.checkPropChange)(this.props.options, nextProps.options, function () {\n      var options = nextProps.options;\n      options.sort(function (a, b) {\n        if (a.key < b.key) return -1;\n        if (a.key > b.key) return 1;\n        return 0;\n      });\n\n      _this2.setState({\n        stats: options\n      });\n    });\n  };\n\n  DynamicRangeSlider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    if (nextState.range) {\n      var upperLimit = Math.floor((nextState.range.end - nextState.range.start) / 2);\n\n      if (nextProps.stepValue < 1 || nextProps.stepValue > upperLimit) {\n        console.warn('stepValue for DynamicRangeSlider ' + nextProps.componentId + ' should be greater than 0 and less than or equal to ' + upperLimit);\n        return false;\n      }\n\n      return true;\n    }\n\n    return true;\n  };\n\n  DynamicRangeSlider.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeComponent(this.props.componentId);\n    this.props.removeComponent(this.internalHistogramComponent);\n    this.props.removeComponent(this.internalRangeComponent);\n    this.props.removeComponent(this.internalMatchAllComponent);\n  }; // value parser for SSR\n\n\n  DynamicRangeSlider.prototype.renderHistogram = function renderHistogram() {\n    if (this.props.isLoading && this.props.loader) {\n      return this.props.loader;\n    }\n\n    if (this.state.stats.length && this.props.showHistogram) {\n      return _react2.default.createElement(_HistogramContainer2.default, {\n        stats: this.state.stats,\n        range: this.state.range,\n        interval: this.getValidInterval(this.props, this.state.range)\n      });\n    }\n\n    return null;\n  };\n\n  DynamicRangeSlider.prototype.render = function render() {\n    var _this3 = this;\n\n    if (!this.state.currentValue || !this.state.range) {\n      return null;\n    }\n\n    var _getRangeLabels = this.getRangeLabels(),\n        startLabel = _getRangeLabels.startLabel,\n        endLabel = _getRangeLabels.endLabel;\n\n    return _react2.default.createElement(_Slider4.default, {\n      primary: true,\n      style: this.props.style,\n      className: this.props.className\n    }, this.props.title && _react2.default.createElement(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), this.renderHistogram(), _react2.default.createElement(_Slider2.default, {\n      min: this.state.range.start,\n      max: this.state.range.end,\n      values: this.state.currentValue,\n      onChange: this.handleSlider,\n      onValuesUpdated: this.handleDrag,\n      snap: this.props.snap,\n      snapPoints: this.props.snap ? this.getSnapPoints() : null,\n      className: (0, _helper.getClassName)(this.props.innerClass, 'slider'),\n      handle: function handle(_ref) {\n        var className = _ref.className,\n            style = _ref.style,\n            passProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n        return _react2.default.createElement(_SliderHandle2.default, _extends({\n          style: style,\n          className: className\n        }, passProps, {\n          renderTooltipData: _this3.props.renderTooltipData,\n          tooltipTrigger: _this3.props.tooltipTrigger\n        }));\n      }\n    }), _react2.default.createElement('div', {\n      className: _Label.rangeLabelsContainer\n    }, _react2.default.createElement(_RangeLabel2.default, {\n      align: 'left',\n      className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n    }, startLabel), _react2.default.createElement(_RangeLabel2.default, {\n      align: 'right',\n      className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n    }, endLabel)));\n  };\n\n  return DynamicRangeSlider;\n}(_react.Component);\n\nDynamicRangeSlider.parseValue = function (value) {\n  return value ? [value().start, value().end] : null;\n};\n\nDynamicRangeSlider.defaultQuery = function (value, props) {\n  if (Array.isArray(value) && value.length) {\n    var _range;\n\n    return {\n      range: (_range = {}, _range[props.dataField] = {\n        gte: value[0],\n        lte: value[1],\n        boost: 2.0\n      }, _range)\n    };\n  }\n\n  return null;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.setReact = function (props) {\n    var react = props.react;\n\n    if (react) {\n      props.watchComponent(_this4.internalRangeComponent, props.react);\n      var newReact = (0, _helper.pushToAndClause)(react, _this4.internalHistogramComponent);\n      props.watchComponent(props.componentId, newReact);\n    } else {\n      // internalRangeComponent watches internalMatchAll component allowing execution of query\n      // in case of no react prop\n      _this4.props.addComponent(_this4.internalMatchAllComponent);\n\n      props.setQueryOptions(_this4.internalMatchAllComponent, {\n        aggs: {\n          match_all: {}\n        }\n      }, false);\n      props.watchComponent(_this4.internalRangeComponent, {\n        and: _this4.internalMatchAllComponent\n      });\n      props.watchComponent(props.componentId, {\n        and: _this4.internalHistogramComponent\n      });\n    }\n  };\n\n  this.getSnapPoints = function () {\n    var snapPoints = [];\n    var stepValue = _this4.props.stepValue;\n    var range = _this4.state.range; // limit the number of steps to prevent generating a large number of snapPoints\n\n    if ((range.end - range.start) / stepValue > 100) {\n      stepValue = (range.end - range.start) / 100;\n    }\n\n    for (var i = range.start; i <= range.end; i += stepValue) {\n      snapPoints = snapPoints.concat(i);\n    }\n\n    if (snapPoints[snapPoints.length - 1] !== range.end) {\n      snapPoints = snapPoints.concat(range.end);\n    }\n\n    return snapPoints;\n  };\n\n  this.getValidInterval = function (props, range) {\n    var min = Math.ceil((range.end - range.start) / 100) || 1;\n\n    if (!props.interval) {\n      return min;\n    } else if (props.interval < min) {\n      console.error(props.componentId + ': interval prop\\'s value should be greater than or equal to ' + min);\n      return min;\n    }\n\n    return props.interval;\n  };\n\n  this.histogramQuery = function (props, range) {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[props.dataField] = {\n      histogram: {\n        field: props.dataField,\n        interval: _this4.getValidInterval(props, range),\n        offset: range.start\n      }\n    }, _ref2;\n  };\n\n  this.rangeQuery = function (props) {\n    return {\n      min: {\n        min: {\n          field: props.dataField\n        }\n      },\n      max: {\n        max: {\n          field: props.dataField\n        }\n      }\n    };\n  };\n\n  this.handleChange = function (currentValue) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this4.props; // ignore state updates when component is locked\n\n    if (props.beforeValueChange && _this4.locked) {\n      return;\n    } // always keep the values within range\n\n\n    var normalizedValue = [currentValue[0] < props.range.start ? props.range.start : currentValue[0], currentValue[1] > props.range.end ? props.range.end : currentValue[1]];\n    _this4.locked = true;\n\n    var performUpdate = function performUpdate() {\n      _this4.setState({\n        currentValue: normalizedValue\n      }, function () {\n        var normalizedValues = [normalizedValue[0], normalizedValue[1]];\n\n        _this4.updateQuery(normalizedValues, props);\n\n        _this4.locked = false;\n        if (props.onValueChange) props.onValueChange(normalizedValues);\n      });\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, {\n      start: normalizedValue[0],\n      end: normalizedValue[1]\n    }, props.beforeValueChange, performUpdate);\n  };\n\n  this.handleSlider = function (_ref3) {\n    var values = _ref3.values;\n\n    _this4.handleChange(values);\n  };\n\n  this.handleDrag = function (values) {\n    if (_this4.props.onDrag) {\n      var min = values.min,\n          max = values.max,\n          currentValue = values.values;\n\n      _this4.props.onDrag(currentValue, [min, max]);\n    }\n  };\n\n  this.updateQuery = function (value, props) {\n    var query = props.customQuery || DynamicRangeSlider.defaultQuery;\n    var showFilter = props.showFilter,\n        _props$range = props.range,\n        start = _props$range.start,\n        end = _props$range.end;\n    var currentStart = value[0],\n        currentEnd = value[1]; // check if the slider is at its initial position\n\n    var isInitialValue = currentStart === start && currentEnd === end;\n    props.updateQuery({\n      componentId: props.componentId,\n      query: query(value, props),\n      value: value,\n      label: props.filterLabel,\n      showFilter: showFilter && !isInitialValue,\n      URLParams: props.URLParams,\n      componentType: 'DYNAMICRANGESLIDER'\n    });\n  };\n\n  this.updateQueryOptions = function (props, range) {\n    if (props.showHistogram) {\n      var queryOptions = {\n        aggs: _this4.histogramQuery(props, range)\n      };\n      props.setQueryOptions(_this4.internalHistogramComponent, queryOptions, false);\n      var query = props.customQuery || DynamicRangeSlider.defaultQuery;\n      props.updateQuery({\n        componentId: _this4.internalHistogramComponent,\n        query: query([range.start, range.end], props)\n      });\n    }\n  };\n\n  this.updateRange = function (range) {\n    _this4.setState({\n      range: range\n    });\n  };\n\n  this.updateRangeQueryOptions = function (props) {\n    var queryOptions = {\n      aggs: _this4.rangeQuery(props)\n    };\n    props.setQueryOptions(_this4.internalRangeComponent, queryOptions);\n  };\n\n  this.getRangeLabels = function () {\n    var _state$range = _this4.state.range,\n        startLabel = _state$range.start,\n        endLabel = _state$range.end;\n\n    if (_this4.props.rangeLabels) {\n      var rangeLabels = _this4.props.rangeLabels(_this4.props.range.start, _this4.props.range.end);\n\n      startLabel = rangeLabels.start;\n      endLabel = rangeLabels.end;\n    }\n\n    return {\n      startLabel: startLabel,\n      endLabel: endLabel\n    };\n  };\n};\n\nDynamicRangeSlider.propTypes = {\n  addComponent: _types2.default.funcRequired,\n  removeComponent: _types2.default.funcRequired,\n  setQueryListener: _types2.default.funcRequired,\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  watchComponent: _types2.default.funcRequired,\n  options: _types2.default.options,\n  range: _types2.default.range,\n  selectedValue: _types2.default.selectedValue,\n  // component props\n  beforeValueChange: _types2.default.func,\n  className: _types2.default.string,\n  componentId: _types2.default.stringRequired,\n  customQuery: _types2.default.func,\n  dataField: _types2.default.stringRequired,\n  defaultSelected: _types2.default.func,\n  filterLabel: _types2.default.string,\n  innerClass: _types2.default.style,\n  interval: _types2.default.number,\n  isLoading: _types2.default.bool,\n  loader: _types2.default.title,\n  onDrag: _types2.default.func,\n  onQueryChange: _types2.default.func,\n  onValueChange: _types2.default.func,\n  rangeLabels: _types2.default.func,\n  react: _types2.default.react,\n  showHistogram: _types2.default.bool,\n  showFilter: _types2.default.bool,\n  tooltipTrigger: _types2.default.tooltipTrigger,\n  renderTooltipData: _types2.default.func,\n  snap: _types2.default.bool,\n  stepValue: _types2.default.number,\n  style: _types2.default.style,\n  title: _types2.default.title,\n  URLParams: _types2.default.bool\n};\nDynamicRangeSlider.defaultProps = {\n  className: null,\n  showHistogram: true,\n  tooltipTrigger: 'none',\n  snap: true,\n  stepValue: 1,\n  style: {},\n  URLParams: false,\n  showFilter: true\n};\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    options: state.aggregations[props.componentId] && state.aggregations[props.componentId][props.dataField] && state.aggregations[props.componentId][props.dataField].buckets ? state.aggregations[props.componentId][props.dataField].buckets : [],\n    isLoading: state.isLoading[props.componentId],\n    range: state.aggregations[props.componentId + '__range__internal'] && state.aggregations[props.componentId + '__range__internal'].min ? {\n      start: state.aggregations[props.componentId + '__range__internal'].min.value,\n      end: state.aggregations[props.componentId + '__range__internal'].max.value // prettier-ignore\n\n    } : null,\n    selectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    addComponent: function addComponent(component) {\n      return dispatch((0, _actions.addComponent)(component));\n    },\n    removeComponent: function removeComponent(component) {\n      return dispatch((0, _actions.removeComponent)(component));\n    },\n    setQueryOptions: function setQueryOptions(component, props, execute) {\n      return dispatch((0, _actions.setQueryOptions)(component, props, execute));\n    },\n    setQueryListener: function setQueryListener(component, onQueryChange, beforeQueryChange) {\n      return dispatch((0, _actions.setQueryListener)(component, onQueryChange, beforeQueryChange));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    },\n    watchComponent: function watchComponent(component, react) {\n      return dispatch((0, _actions.watchComponent)(component, react));\n    }\n  };\n};\n\nexports.default = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(DynamicRangeSlider);","map":{"version":3,"sources":["C:/Users/porto/info340-code/pod/340/node_modules/@appbaseio/reactivesearch/lib/components/range/DynamicRangeSlider.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_actions","_helper","_types","_types2","_Slider","_Slider2","_HistogramContainer","_HistogramContainer2","_RangeLabel","_RangeLabel2","_SliderHandle","_SliderHandle2","_Slider3","_Slider4","_Title","_Title2","_Label","_utils","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","DynamicRangeSlider","_Component","props","_this","_initialiseProps","state","currentValue","range","stats","internalHistogramComponent","componentId","internalRangeComponent","internalMatchAllComponent","locked","setQueryListener","onQueryChange","componentWillMount","addComponent","updateRangeQueryOptions","setReact","componentWillReceiveProps","nextProps","_this2","isEqual","updateQueryOptions","updateRange","start","Math","floor","end","ceil","selectedValue","handleChange","defaultSelected","_nextProps$defaultSel","_nextProps$defaultSel2","_start","_end","checkPropChange","react","dataField","checkSomePropChange","options","sort","a","b","setState","shouldComponentUpdate","nextState","upperLimit","stepValue","console","warn","componentWillUnmount","removeComponent","renderHistogram","isLoading","loader","showHistogram","createElement","interval","getValidInterval","render","_this3","_getRangeLabels","getRangeLabels","startLabel","endLabel","primary","style","className","title","getClassName","innerClass","min","max","values","onChange","handleSlider","onValuesUpdated","handleDrag","snap","snapPoints","getSnapPoints","handle","_ref","passProps","renderTooltipData","tooltipTrigger","rangeLabelsContainer","align","Component","parseValue","defaultQuery","Array","isArray","_range","gte","lte","boost","_this4","watchComponent","newReact","pushToAndClause","setQueryOptions","aggs","match_all","and","concat","error","histogramQuery","_ref2","histogram","field","offset","rangeQuery","undefined","beforeValueChange","normalizedValue","performUpdate","normalizedValues","updateQuery","onValueChange","checkValueChange","_ref3","onDrag","query","customQuery","showFilter","_props$range","currentStart","currentEnd","isInitialValue","label","filterLabel","URLParams","componentType","queryOptions","_state$range","rangeLabels","propTypes","funcRequired","func","string","stringRequired","number","bool","defaultProps","mapStateToProps","aggregations","buckets","selectedValues","mapDispatchtoProps","dispatch","component","execute","beforeQueryChange","updateQueryObject","connect"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _Slider = require('rheostat/lib/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _HistogramContainer = require('./addons/HistogramContainer');\n\nvar _HistogramContainer2 = _interopRequireDefault(_HistogramContainer);\n\nvar _RangeLabel = require('./addons/RangeLabel');\n\nvar _RangeLabel2 = _interopRequireDefault(_RangeLabel);\n\nvar _SliderHandle = require('./addons/SliderHandle');\n\nvar _SliderHandle2 = _interopRequireDefault(_SliderHandle);\n\nvar _Slider3 = require('../../styles/Slider');\n\nvar _Slider4 = _interopRequireDefault(_Slider3);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Label = require('../../styles/Label');\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DynamicRangeSlider = function (_Component) {\n\t_inherits(DynamicRangeSlider, _Component);\n\n\tfunction DynamicRangeSlider(props) {\n\t\t_classCallCheck(this, DynamicRangeSlider);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\t_this.state = {\n\t\t\tcurrentValue: null,\n\t\t\trange: null,\n\t\t\tstats: []\n\t\t};\n\t\t_this.internalHistogramComponent = _this.props.componentId + '__histogram__internal';\n\t\t_this.internalRangeComponent = _this.props.componentId + '__range__internal';\n\t\t_this.internalMatchAllComponent = _this.props.componentId + '__match_all__internal';\n\t\t_this.locked = false;\n\t\tprops.setQueryListener(props.componentId, props.onQueryChange, null);\n\t\treturn _this;\n\t}\n\n\tDynamicRangeSlider.prototype.componentWillMount = function componentWillMount() {\n\t\tthis.props.addComponent(this.props.componentId);\n\t\tthis.props.addComponent(this.internalHistogramComponent);\n\t\tthis.props.addComponent(this.internalRangeComponent);\n\n\t\t// get range before executing other queries\n\t\tthis.updateRangeQueryOptions(this.props);\n\t\tthis.setReact(this.props);\n\t};\n\n\tDynamicRangeSlider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n\t\tvar _this2 = this;\n\n\t\tif (!(0, _helper.isEqual)(this.props.range, nextProps.range) && nextProps.range) {\n\t\t\tthis.updateQueryOptions(nextProps, nextProps.range);\n\t\t\t// floor and ceil to take edge cases into account\n\t\t\tthis.updateRange({\n\t\t\t\tstart: Math.floor(nextProps.range.start),\n\t\t\t\tend: Math.ceil(nextProps.range.end)\n\t\t\t});\n\n\t\t\t// only listen to selectedValue initially, after the\n\t\t\t// component has mounted and range is received\n\t\t\tif (nextProps.selectedValue && !this.state.currentValue) {\n\t\t\t\tthis.handleChange(nextProps.selectedValue, nextProps);\n\t\t\t} else if (nextProps.defaultSelected) {\n\t\t\t\tvar _nextProps$defaultSel = nextProps.defaultSelected(nextProps.range.start, nextProps.range.end),\n\t\t\t\t    start = _nextProps$defaultSel.start,\n\t\t\t\t    end = _nextProps$defaultSel.end;\n\n\t\t\t\tthis.handleChange([start, end], nextProps);\n\t\t\t} else {\n\t\t\t\tthis.handleChange([Math.floor(nextProps.range.start), Math.ceil(nextProps.range.end)], nextProps);\n\t\t\t}\n\t\t} else if (nextProps.range && !(0, _helper.isEqual)(this.props.defaultSelected && this.props.defaultSelected(nextProps.range.start, nextProps.range.end), nextProps.defaultSelected && nextProps.defaultSelected(nextProps.range.start, nextProps.range.end))) {\n\t\t\tvar _nextProps$defaultSel2 = nextProps.defaultSelected(nextProps.range.start, nextProps.range.end),\n\t\t\t    _start = _nextProps$defaultSel2.start,\n\t\t\t    _end = _nextProps$defaultSel2.end;\n\n\t\t\tthis.handleChange([_start, _end], nextProps);\n\t\t} else if (nextProps.range && nextProps.selectedValue === null) {\n\t\t\t// when the filter is reset\n\t\t\tthis.handleChange([nextProps.range.start, nextProps.range.end], nextProps);\n\t\t}\n\n\t\t(0, _helper.checkPropChange)(this.props.react, nextProps.react, function () {\n\t\t\t_this2.updateRangeQueryOptions(nextProps);\n\t\t\t_this2.setReact(nextProps);\n\t\t});\n\t\t(0, _helper.checkPropChange)(this.props.dataField, nextProps.dataField, function () {\n\t\t\t_this2.updateRangeQueryOptions(nextProps);\n\t\t});\n\t\t(0, _helper.checkSomePropChange)(this.props, nextProps, ['showHistogram', 'interval'], function () {\n\t\t\treturn _this2.updateQueryOptions(nextProps, nextProps.range || _this2.state.range);\n\t\t});\n\t\t(0, _helper.checkPropChange)(this.props.options, nextProps.options, function () {\n\t\t\tvar options = nextProps.options;\n\n\t\t\toptions.sort(function (a, b) {\n\t\t\t\tif (a.key < b.key) return -1;\n\t\t\t\tif (a.key > b.key) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\t_this2.setState({\n\t\t\t\tstats: options\n\t\t\t});\n\t\t});\n\t};\n\n\tDynamicRangeSlider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n\t\tif (nextState.range) {\n\t\t\tvar upperLimit = Math.floor((nextState.range.end - nextState.range.start) / 2);\n\t\t\tif (nextProps.stepValue < 1 || nextProps.stepValue > upperLimit) {\n\t\t\t\tconsole.warn('stepValue for DynamicRangeSlider ' + nextProps.componentId + ' should be greater than 0 and less than or equal to ' + upperLimit);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn true;\n\t};\n\n\tDynamicRangeSlider.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tthis.props.removeComponent(this.props.componentId);\n\t\tthis.props.removeComponent(this.internalHistogramComponent);\n\t\tthis.props.removeComponent(this.internalRangeComponent);\n\t\tthis.props.removeComponent(this.internalMatchAllComponent);\n\t};\n\n\t// value parser for SSR\n\n\n\tDynamicRangeSlider.prototype.renderHistogram = function renderHistogram() {\n\t\tif (this.props.isLoading && this.props.loader) {\n\t\t\treturn this.props.loader;\n\t\t}\n\t\tif (this.state.stats.length && this.props.showHistogram) {\n\t\t\treturn _react2.default.createElement(_HistogramContainer2.default, {\n\t\t\t\tstats: this.state.stats,\n\t\t\t\trange: this.state.range,\n\t\t\t\tinterval: this.getValidInterval(this.props, this.state.range)\n\t\t\t});\n\t\t}\n\t\treturn null;\n\t};\n\n\tDynamicRangeSlider.prototype.render = function render() {\n\t\tvar _this3 = this;\n\n\t\tif (!this.state.currentValue || !this.state.range) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar _getRangeLabels = this.getRangeLabels(),\n\t\t    startLabel = _getRangeLabels.startLabel,\n\t\t    endLabel = _getRangeLabels.endLabel;\n\n\t\treturn _react2.default.createElement(\n\t\t\t_Slider4.default,\n\t\t\t{ primary: true, style: this.props.style, className: this.props.className },\n\t\t\tthis.props.title && _react2.default.createElement(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\tthis.renderHistogram(),\n\t\t\t_react2.default.createElement(_Slider2.default, {\n\t\t\t\tmin: this.state.range.start,\n\t\t\t\tmax: this.state.range.end,\n\t\t\t\tvalues: this.state.currentValue,\n\t\t\t\tonChange: this.handleSlider,\n\t\t\t\tonValuesUpdated: this.handleDrag,\n\t\t\t\tsnap: this.props.snap,\n\t\t\t\tsnapPoints: this.props.snap ? this.getSnapPoints() : null,\n\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'slider'),\n\t\t\t\thandle: function handle(_ref) {\n\t\t\t\t\tvar className = _ref.className,\n\t\t\t\t\t    style = _ref.style,\n\t\t\t\t\t    passProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n\t\t\t\t\treturn _react2.default.createElement(_SliderHandle2.default, _extends({\n\t\t\t\t\t\tstyle: style,\n\t\t\t\t\t\tclassName: className\n\t\t\t\t\t}, passProps, {\n\t\t\t\t\t\trenderTooltipData: _this3.props.renderTooltipData,\n\t\t\t\t\t\ttooltipTrigger: _this3.props.tooltipTrigger\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}),\n\t\t\t_react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: _Label.rangeLabelsContainer },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_RangeLabel2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\talign: 'left',\n\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n\t\t\t\t\t},\n\t\t\t\t\tstartLabel\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_RangeLabel2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n\t\t\t\t\t},\n\t\t\t\t\tendLabel\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn DynamicRangeSlider;\n}(_react.Component);\n\nDynamicRangeSlider.parseValue = function (value) {\n\treturn value ? [value().start, value().end] : null;\n};\n\nDynamicRangeSlider.defaultQuery = function (value, props) {\n\tif (Array.isArray(value) && value.length) {\n\t\tvar _range;\n\n\t\treturn {\n\t\t\trange: (_range = {}, _range[props.dataField] = {\n\t\t\t\tgte: value[0],\n\t\t\t\tlte: value[1],\n\t\t\t\tboost: 2.0\n\t\t\t}, _range)\n\t\t};\n\t}\n\treturn null;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this4 = this;\n\n\tthis.setReact = function (props) {\n\t\tvar react = props.react;\n\n\t\tif (react) {\n\t\t\tprops.watchComponent(_this4.internalRangeComponent, props.react);\n\t\t\tvar newReact = (0, _helper.pushToAndClause)(react, _this4.internalHistogramComponent);\n\t\t\tprops.watchComponent(props.componentId, newReact);\n\t\t} else {\n\t\t\t// internalRangeComponent watches internalMatchAll component allowing execution of query\n\t\t\t// in case of no react prop\n\t\t\t_this4.props.addComponent(_this4.internalMatchAllComponent);\n\t\t\tprops.setQueryOptions(_this4.internalMatchAllComponent, { aggs: { match_all: {} } }, false);\n\t\t\tprops.watchComponent(_this4.internalRangeComponent, {\n\t\t\t\tand: _this4.internalMatchAllComponent\n\t\t\t});\n\t\t\tprops.watchComponent(props.componentId, {\n\t\t\t\tand: _this4.internalHistogramComponent\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.getSnapPoints = function () {\n\t\tvar snapPoints = [];\n\t\tvar stepValue = _this4.props.stepValue;\n\t\tvar range = _this4.state.range;\n\n\t\t// limit the number of steps to prevent generating a large number of snapPoints\n\n\t\tif ((range.end - range.start) / stepValue > 100) {\n\t\t\tstepValue = (range.end - range.start) / 100;\n\t\t}\n\n\t\tfor (var i = range.start; i <= range.end; i += stepValue) {\n\t\t\tsnapPoints = snapPoints.concat(i);\n\t\t}\n\t\tif (snapPoints[snapPoints.length - 1] !== range.end) {\n\t\t\tsnapPoints = snapPoints.concat(range.end);\n\t\t}\n\t\treturn snapPoints;\n\t};\n\n\tthis.getValidInterval = function (props, range) {\n\t\tvar min = Math.ceil((range.end - range.start) / 100) || 1;\n\t\tif (!props.interval) {\n\t\t\treturn min;\n\t\t} else if (props.interval < min) {\n\t\t\tconsole.error(props.componentId + ': interval prop\\'s value should be greater than or equal to ' + min);\n\t\t\treturn min;\n\t\t}\n\t\treturn props.interval;\n\t};\n\n\tthis.histogramQuery = function (props, range) {\n\t\tvar _ref2;\n\n\t\treturn _ref2 = {}, _ref2[props.dataField] = {\n\t\t\thistogram: {\n\t\t\t\tfield: props.dataField,\n\t\t\t\tinterval: _this4.getValidInterval(props, range),\n\t\t\t\toffset: range.start\n\t\t\t}\n\t\t}, _ref2;\n\t};\n\n\tthis.rangeQuery = function (props) {\n\t\treturn {\n\t\t\tmin: { min: { field: props.dataField } },\n\t\t\tmax: { max: { field: props.dataField } }\n\t\t};\n\t};\n\n\tthis.handleChange = function (currentValue) {\n\t\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this4.props;\n\n\t\t// ignore state updates when component is locked\n\t\tif (props.beforeValueChange && _this4.locked) {\n\t\t\treturn;\n\t\t}\n\t\t// always keep the values within range\n\t\tvar normalizedValue = [currentValue[0] < props.range.start ? props.range.start : currentValue[0], currentValue[1] > props.range.end ? props.range.end : currentValue[1]];\n\t\t_this4.locked = true;\n\t\tvar performUpdate = function performUpdate() {\n\t\t\t_this4.setState({\n\t\t\t\tcurrentValue: normalizedValue\n\t\t\t}, function () {\n\t\t\t\tvar normalizedValues = [normalizedValue[0], normalizedValue[1]];\n\t\t\t\t_this4.updateQuery(normalizedValues, props);\n\t\t\t\t_this4.locked = false;\n\t\t\t\tif (props.onValueChange) props.onValueChange(normalizedValues);\n\t\t\t});\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, {\n\t\t\tstart: normalizedValue[0],\n\t\t\tend: normalizedValue[1]\n\t\t}, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.handleSlider = function (_ref3) {\n\t\tvar values = _ref3.values;\n\n\t\t_this4.handleChange(values);\n\t};\n\n\tthis.handleDrag = function (values) {\n\t\tif (_this4.props.onDrag) {\n\t\t\tvar min = values.min,\n\t\t\t    max = values.max,\n\t\t\t    currentValue = values.values;\n\n\t\t\t_this4.props.onDrag(currentValue, [min, max]);\n\t\t}\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar query = props.customQuery || DynamicRangeSlider.defaultQuery;\n\t\tvar showFilter = props.showFilter,\n\t\t    _props$range = props.range,\n\t\t    start = _props$range.start,\n\t\t    end = _props$range.end;\n\t\tvar currentStart = value[0],\n\t\t    currentEnd = value[1];\n\t\t// check if the slider is at its initial position\n\n\t\tvar isInitialValue = currentStart === start && currentEnd === end;\n\n\t\tprops.updateQuery({\n\t\t\tcomponentId: props.componentId,\n\t\t\tquery: query(value, props),\n\t\t\tvalue: value,\n\t\t\tlabel: props.filterLabel,\n\t\t\tshowFilter: showFilter && !isInitialValue,\n\t\t\tURLParams: props.URLParams,\n\t\t\tcomponentType: 'DYNAMICRANGESLIDER'\n\t\t});\n\t};\n\n\tthis.updateQueryOptions = function (props, range) {\n\t\tif (props.showHistogram) {\n\t\t\tvar queryOptions = {\n\t\t\t\taggs: _this4.histogramQuery(props, range)\n\t\t\t};\n\n\t\t\tprops.setQueryOptions(_this4.internalHistogramComponent, queryOptions, false);\n\n\t\t\tvar query = props.customQuery || DynamicRangeSlider.defaultQuery;\n\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: _this4.internalHistogramComponent,\n\t\t\t\tquery: query([range.start, range.end], props)\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.updateRange = function (range) {\n\t\t_this4.setState({\n\t\t\trange: range\n\t\t});\n\t};\n\n\tthis.updateRangeQueryOptions = function (props) {\n\t\tvar queryOptions = {\n\t\t\taggs: _this4.rangeQuery(props)\n\t\t};\n\n\t\tprops.setQueryOptions(_this4.internalRangeComponent, queryOptions);\n\t};\n\n\tthis.getRangeLabels = function () {\n\t\tvar _state$range = _this4.state.range,\n\t\t    startLabel = _state$range.start,\n\t\t    endLabel = _state$range.end;\n\n\n\t\tif (_this4.props.rangeLabels) {\n\t\t\tvar rangeLabels = _this4.props.rangeLabels(_this4.props.range.start, _this4.props.range.end);\n\t\t\tstartLabel = rangeLabels.start;\n\t\t\tendLabel = rangeLabels.end;\n\t\t}\n\n\t\treturn {\n\t\t\tstartLabel: startLabel,\n\t\t\tendLabel: endLabel\n\t\t};\n\t};\n};\n\nDynamicRangeSlider.propTypes = {\n\taddComponent: _types2.default.funcRequired,\n\tremoveComponent: _types2.default.funcRequired,\n\tsetQueryListener: _types2.default.funcRequired,\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\twatchComponent: _types2.default.funcRequired,\n\toptions: _types2.default.options,\n\trange: _types2.default.range,\n\tselectedValue: _types2.default.selectedValue,\n\t// component props\n\tbeforeValueChange: _types2.default.func,\n\tclassName: _types2.default.string,\n\tcomponentId: _types2.default.stringRequired,\n\tcustomQuery: _types2.default.func,\n\tdataField: _types2.default.stringRequired,\n\tdefaultSelected: _types2.default.func,\n\tfilterLabel: _types2.default.string,\n\tinnerClass: _types2.default.style,\n\tinterval: _types2.default.number,\n\tisLoading: _types2.default.bool,\n\tloader: _types2.default.title,\n\tonDrag: _types2.default.func,\n\tonQueryChange: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\trangeLabels: _types2.default.func,\n\treact: _types2.default.react,\n\tshowHistogram: _types2.default.bool,\n\tshowFilter: _types2.default.bool,\n\ttooltipTrigger: _types2.default.tooltipTrigger,\n\trenderTooltipData: _types2.default.func,\n\tsnap: _types2.default.bool,\n\tstepValue: _types2.default.number,\n\tstyle: _types2.default.style,\n\ttitle: _types2.default.title,\n\tURLParams: _types2.default.bool\n};\n\nDynamicRangeSlider.defaultProps = {\n\tclassName: null,\n\tshowHistogram: true,\n\ttooltipTrigger: 'none',\n\tsnap: true,\n\tstepValue: 1,\n\tstyle: {},\n\tURLParams: false,\n\tshowFilter: true\n};\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\toptions: state.aggregations[props.componentId] && state.aggregations[props.componentId][props.dataField] && state.aggregations[props.componentId][props.dataField].buckets ? state.aggregations[props.componentId][props.dataField].buckets : [],\n\t\tisLoading: state.isLoading[props.componentId],\n\t\trange: state.aggregations[props.componentId + '__range__internal'] && state.aggregations[props.componentId + '__range__internal'].min ? {\n\t\t\tstart: state.aggregations[props.componentId + '__range__internal'].min.value,\n\t\t\tend: state.aggregations[props.componentId + '__range__internal'].max.value // prettier-ignore\n\t\t} : null,\n\t\tselectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\taddComponent: function addComponent(component) {\n\t\t\treturn dispatch((0, _actions.addComponent)(component));\n\t\t},\n\t\tremoveComponent: function removeComponent(component) {\n\t\t\treturn dispatch((0, _actions.removeComponent)(component));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props, execute) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props, execute));\n\t\t},\n\t\tsetQueryListener: function setQueryListener(component, onQueryChange, beforeQueryChange) {\n\t\t\treturn dispatch((0, _actions.setQueryListener)(component, onQueryChange, beforeQueryChange));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t},\n\t\twatchComponent: function watchComponent(component, react) {\n\t\t\treturn dispatch((0, _actions.watchComponent)(component, react));\n\t\t}\n\t};\n};\n\nexports.default = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(DynamicRangeSlider);"]},"metadata":{},"sourceType":"script"}